{"ast":null,"code":"import _toConsumableArray from\"/home/alejandro/Documents/Estudio/Projectos/PiscisfrontendBackup/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/alejandro/Documents/Estudio/Projectos/PiscisfrontendBackup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import reservaService from'../services/reservaService';var daysShortArr=['Dom','Lun','Mar','Mie','Jue','Vie','Sab'];var monthNamesArr=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];var useCalendar=function useCalendar(){var daysShort=arguments.length>0&&arguments[0]!==undefined?arguments[0]:daysShortArr;var monthNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:monthNamesArr;var today=new Date();var todayFormatted=\"\".concat(today.getFullYear(),\"-\").concat(String(today.getMonth()+1).padStart(2,'0'),\"-\").concat(String(today.getDate()).padStart(2,'0'));var _useState=useState(today),_useState2=_slicedToArray(_useState,2),selectedDate=_useState2[0],setSelectedDate=_useState2[1];var selectedMonthLastDate=new Date(selectedDate.getFullYear(),selectedDate.getMonth()+1,0);var daysInMonth=selectedMonthLastDate.getDate();var firstDayInMonth=new Date(selectedDate.getFullYear(),selectedDate.getMonth(),1).getDay();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),reservas=_useState4[0],setReservas=_useState4[1];var currentMonthCounter=1;useEffect(function(){reservaService.getAll().then(function(initialReservas){setReservas(initialReservas);});},[1000]);var habitaciones=['C1','C2','C3','C4','D1B','D2B','D3B','D4B','D1A','D2A','D3A','D4A'];var rows=12;var cols=daysInMonth;var calendarRows={};var daysInMon=[];var x=firstDayInMonth;while(daysInMon.length<daysInMonth){if(x===7){x=0;}daysInMon.push(daysShortArr[x]);x++;}var _loop=function _loop(i){for(var j=1;j<cols+1;j++){if(!calendarRows[i]){calendarRows[i]=[];}if(i>=1){calendarRows[i]=[].concat(_toConsumableArray(calendarRows[i]),[{classes:'',date:\"\".concat(selectedDate.getFullYear(),\"-\").concat(String(selectedDate.getMonth()+1).padStart(2,'0'),\"-\").concat((currentMonthCounter<10?'0':'')+currentMonthCounter),value:\"\".concat(currentMonthCounter),reserva:\"\".concat(reservas.map(function(reserva){if(reserva.habitacion===habitaciones[i-1]&&reserva.fechaEntrada<=\"\".concat(selectedDate.getFullYear(),\"-\").concat(String(selectedDate.getMonth()+1).padStart(2,'0'),\"-\").concat((currentMonthCounter<10?'0':'')+currentMonthCounter)&&reserva.fechaSalida>=\"\".concat(selectedDate.getFullYear(),\"-\").concat(String(selectedDate.getMonth()+1).padStart(2,'0'),\"-\").concat((currentMonthCounter<10?'0':'')+currentMonthCounter)){return\"\".concat(selectedDate.getFullYear(),\"-\").concat(String(selectedDate.getMonth()+1).padStart(2,'0'),\"-\").concat((currentMonthCounter<10?'0':'')+currentMonthCounter);}else{return'0';}}))}]);}if(calendarRows[i].length>=daysInMonth){currentMonthCounter=0;}currentMonthCounter++;}};for(var i=1;i<rows+1;i++){_loop(i);}var getPrevMonth=function getPrevMonth(){setSelectedDate(function(prevValue){return new Date(prevValue.getFullYear(),prevValue.getMonth()-1,prevValue.getDate());});};var getNextMonth=function getNextMonth(){setSelectedDate(function(prevValue){return new Date(prevValue.getFullYear(),prevValue.getMonth()+1,prevValue.getDate());});};return{daysShort:daysShort,monthNames:monthNames,todayFormatted:todayFormatted,calendarRows:calendarRows,selectedDate:selectedDate,getPrevMonth:getPrevMonth,getNextMonth:getNextMonth,daysInMon:daysInMon,habitaciones:habitaciones,reservas:reservas};};export default useCalendar;","map":{"version":3,"names":["useState","useEffect","reservaService","daysShortArr","monthNamesArr","useCalendar","daysShort","monthNames","today","Date","todayFormatted","getFullYear","String","getMonth","padStart","getDate","selectedDate","setSelectedDate","selectedMonthLastDate","daysInMonth","firstDayInMonth","getDay","reservas","setReservas","currentMonthCounter","getAll","then","initialReservas","habitaciones","rows","cols","calendarRows","daysInMon","x","length","push","i","j","classes","date","value","reserva","map","habitacion","fechaEntrada","fechaSalida","getPrevMonth","prevValue","getNextMonth"],"sources":["/home/alejandro/Documents/Estudio/Projectos/PiscisfrontendBackup/src/hooks/useCalendar.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport reservaService from '../services/reservaService'\n\nconst daysShortArr = [\n  'Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'\n]\n\nconst monthNamesArr = [\n  'Enero', 'Febrero', 'Marzo', 'Abril',\n  'Mayo', 'Junio', 'Julio', 'Agosto',\n  'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\n]\n\nconst useCalendar = (daysShort = daysShortArr, monthNames = monthNamesArr) => {\n  const today = new Date()\n  const todayFormatted = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String((today.getDate())).padStart(2, '0')}`\n  const [selectedDate, setSelectedDate] = useState(today)\n  const selectedMonthLastDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0)\n  const daysInMonth = selectedMonthLastDate.getDate()\n  const firstDayInMonth = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1).getDay()\n  const [reservas, setReservas] = useState([])\n\n  let currentMonthCounter = 1\n\n  useEffect(() => {\n    reservaService\n      .getAll()\n      .then(initialReservas => {\n        setReservas(initialReservas)\n      })\n  }, [1000])\n\n  const habitaciones = ['C1', 'C2', 'C3', 'C4', 'D1B', 'D2B', 'D3B', 'D4B', 'D1A', 'D2A', 'D3A', 'D4A']\n\n  const rows = 12\n  const cols = daysInMonth\n  const calendarRows = {}\n\n  const daysInMon = []\n\n  let x = firstDayInMonth\n  while (daysInMon.length < daysInMonth) {\n    if (x === 7) {\n      x = 0\n    }\n    daysInMon.push(daysShortArr[x])\n    x++\n  }\n\n  for (let i = 1; i < rows + 1; i++) {\n    for (let j = 1; j < cols + 1; j++) {\n      if (!calendarRows[i]) {\n        calendarRows[i] = []\n      }\n      if (i >= 1) {\n        calendarRows[i] = [...calendarRows[i], {\n          classes: '',\n          date: `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`,\n          value: `${currentMonthCounter}`,\n          reserva: `${reservas.map(reserva => {\n            if (reserva.habitacion === habitaciones[i - 1] && reserva.fechaEntrada <= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}` && reserva.fechaSalida >= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`) {\n              return `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`\n            } else {\n            return '0'\n          }\n})}`\n        }]\n      }\n      if (calendarRows[i].length >= daysInMonth) {\n        currentMonthCounter = 0\n      }\n      currentMonthCounter++\n    }\n  }\n\n  const getPrevMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() - 1, prevValue.getDate()))\n  }\n  const getNextMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() + 1, prevValue.getDate()))\n  }\n\n  return {\n    daysShort,\n    monthNames,\n    todayFormatted,\n    calendarRows,\n    selectedDate,\n    getPrevMonth,\n    getNextMonth,\n    daysInMon,\n    habitaciones,\n    reservas\n  }\n}\n\nexport default useCalendar\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}