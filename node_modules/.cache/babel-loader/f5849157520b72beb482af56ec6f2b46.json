{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport reservaService from '../services/reservaService';\nconst daysShortArr = ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'];\nconst monthNamesArr = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\n\nconst useCalendar = function () {\n  _s();\n\n  let daysShort = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : daysShortArr;\n  let monthNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : monthNamesArr;\n  const today = new Date();\n  const todayFormatted = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;\n  const [selectedDate, setSelectedDate] = useState(today);\n  const selectedMonthLastDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0);\n  const daysInMonth = selectedMonthLastDate.getDate();\n  const firstDayInMonth = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1).getDay();\n  const [reservas, setReservas] = useState([]);\n  let currentMonthCounter = 1;\n  useEffect(() => {\n    reservaService.getAll().then(initialReservas => {\n      setReservas(initialReservas);\n    });\n  }, [1000]);\n  const habitaciones = ['C1', 'C2', 'C3', 'C4', 'D1B', 'D2B', 'D3B', 'D4B', 'D1A', 'D2A', 'D3A', 'D4A'];\n  const rows = 12;\n  const cols = daysInMonth;\n  const calendarRows = {};\n  const daysInMon = [];\n  let x = firstDayInMonth;\n\n  while (daysInMon.length < daysInMonth) {\n    if (x === 7) {\n      x = 0;\n    }\n\n    daysInMon.push(daysShortArr[x]);\n    x++;\n  }\n\n  for (let i = 1; i < rows + 1; i++) {\n    for (let j = 1; j < cols + 1; j++) {\n      if (!calendarRows[i]) {\n        calendarRows[i] = [];\n      }\n\n      if (i >= 1) {\n        calendarRows[i] = [...calendarRows[i], {\n          classes: '',\n          date: `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`,\n          value: `${currentMonthCounter}`,\n          reserva: `${reservas.map(reserva => {\n            if (reserva.habitacion === habitaciones[i - 1] && reserva.fechaEntrada <= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}` && reserva.fechaSalida >= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`) {\n              return `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`;\n            } else {\n              return '0';\n            }\n          })}`\n        }];\n      }\n\n      if (calendarRows[i].length >= daysInMonth) {\n        currentMonthCounter = 0;\n      }\n\n      currentMonthCounter++;\n    }\n  }\n\n  const getPrevMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() - 1, prevValue.getDate()));\n  };\n\n  const getNextMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() + 1, prevValue.getDate()));\n  };\n\n  return {\n    daysShort,\n    monthNames,\n    todayFormatted,\n    calendarRows,\n    selectedDate,\n    getPrevMonth,\n    getNextMonth,\n    daysInMon,\n    habitaciones,\n    reservas\n  };\n};\n\n_s(useCalendar, \"V/jskxvq565hFdIGA512PdIYrAw=\");\n\nexport default useCalendar;","map":{"version":3,"names":["useState","useEffect","reservaService","daysShortArr","monthNamesArr","useCalendar","daysShort","monthNames","today","Date","todayFormatted","getFullYear","String","getMonth","padStart","getDate","selectedDate","setSelectedDate","selectedMonthLastDate","daysInMonth","firstDayInMonth","getDay","reservas","setReservas","currentMonthCounter","getAll","then","initialReservas","habitaciones","rows","cols","calendarRows","daysInMon","x","length","push","i","j","classes","date","value","reserva","map","habitacion","fechaEntrada","fechaSalida","getPrevMonth","prevValue","getNextMonth"],"sources":["/home/alejandro/Documents/Estudio/Projectos/as/src/hooks/useCalendar.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport reservaService from '../services/reservaService'\n\nconst daysShortArr = [\n  'Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'\n]\n\nconst monthNamesArr = [\n  'Enero', 'Febrero', 'Marzo', 'Abril',\n  'Mayo', 'Junio', 'Julio', 'Agosto',\n  'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\n]\n\nconst useCalendar = (daysShort = daysShortArr, monthNames = monthNamesArr) => {\n  const today = new Date()\n  const todayFormatted = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String((today.getDate())).padStart(2, '0')}`\n  const [selectedDate, setSelectedDate] = useState(today)\n  const selectedMonthLastDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1, 0)\n  const daysInMonth = selectedMonthLastDate.getDate()\n  const firstDayInMonth = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1).getDay()\n  const [reservas, setReservas] = useState([])\n\n  let currentMonthCounter = 1\n\n  useEffect(() => {\n    reservaService\n      .getAll()\n      .then(initialReservas => {\n        setReservas(initialReservas)\n      })\n  }, [1000])\n\n  const habitaciones = ['C1', 'C2', 'C3', 'C4', 'D1B', 'D2B', 'D3B', 'D4B', 'D1A', 'D2A', 'D3A', 'D4A']\n\n  const rows = 12\n  const cols = daysInMonth\n  const calendarRows = {}\n\n  const daysInMon = []\n\n  let x = firstDayInMonth\n  while (daysInMon.length < daysInMonth) {\n    if (x === 7) {\n      x = 0\n    }\n    daysInMon.push(daysShortArr[x])\n    x++\n  }\n\n  for (let i = 1; i < rows + 1; i++) {\n    for (let j = 1; j < cols + 1; j++) {\n      if (!calendarRows[i]) {\n        calendarRows[i] = []\n      }\n      if (i >= 1) {\n        calendarRows[i] = [...calendarRows[i], {\n          classes: '',\n          date: `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`,\n          value: `${currentMonthCounter}`,\n          reserva: `${reservas.map(reserva => {\n            if (reserva.habitacion === habitaciones[i - 1] && reserva.fechaEntrada <= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}` && reserva.fechaSalida >= `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`) {\n              return `${selectedDate.getFullYear()}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${(currentMonthCounter < 10 ? '0' : '') + currentMonthCounter}`\n            } else {\n            return '0'\n          }\n})}`\n        }]\n      }\n      if (calendarRows[i].length >= daysInMonth) {\n        currentMonthCounter = 0\n      }\n      currentMonthCounter++\n    }\n  }\n\n  const getPrevMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() - 1, prevValue.getDate()))\n  }\n  const getNextMonth = () => {\n    setSelectedDate(prevValue => new Date(prevValue.getFullYear(), prevValue.getMonth() + 1, prevValue.getDate()))\n  }\n\n  return {\n    daysShort,\n    monthNames,\n    todayFormatted,\n    calendarRows,\n    selectedDate,\n    getPrevMonth,\n    getNextMonth,\n    daysInMon,\n    habitaciones,\n    reservas\n  }\n}\n\nexport default useCalendar\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}